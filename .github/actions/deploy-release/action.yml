name: 'Deploy release'
description: 'Deploy release'
inputs:
  rid:
    description: 'Runtime identifier'
    required: true
    type: string
  version:
    description: 'Release version'
    required: true
    type: string
  token:
    description: 'GitHub token'
    required: true
    type: string

runs:
  using: "composite"
  steps:
    - id: generate-changelog
      run: echo "# Release details" > ${{ github.workspace }}-CHANGELOG.txt
      shell: pwsh
    - id: create-release
      uses: softprops/action-gh-release@v1
      with:
        tag_name: v${{ inputs.version }}
        body_path: ${{ github.workspace }}-CHANGELOG.txt
        files: ./${{ inputs.rid }}.zip
        name: v${{ inputs.version }}
        token: ${{ inputs.token }}
      
